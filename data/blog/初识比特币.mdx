---
tags: [bitcoin, 比特币, 区块链]
date: 2017-8-20
title: 初识比特币
---

## 理解货币

[货币](https://zh.wikipedia.org/wiki/%E8%B2%A8%E5%B9%A3#.E8.B2.A8.E5.B9.A3.E7.9A.84.E5.8A.9F.E8.83.BD) 是一种交换的媒介，用于提升交换效率。**货币的价值在于流通**。

货币的功能有：交易媒介、记账单位、存储价值、延期支付的标准。

- 交易媒介: 货币作为交易的媒介（Medium of Exchange），交易可透过货币完成，不需以物易物。
- 记账单位: 记账单位（Unit of Account）是货币作为社会劳动的直接体现。货币本身作为一种商品，可以以自己为标准，与其他商品进行量的比较，而此时商品的价值形式就转化为价格形式，商品通过货币进行表达的价值形式即为价格。
- 存储价值: （Store of Value）指的是当货币退出流通领域，被当作社会财富的代表被保存起来时货币所发挥的作用。一般来说，价币用作价值储藏风险是最低的。但是，通胀会削减购买力，而且货币并无利息收入，因此，长期来说，价值储存的功能并不及其余的能力重要。
- 延期支付的标准: 延期支付的标准（Standard for deferred payment），在赊销赊购中，货币被用来偿还债务。当债务是以货币来计算，其价值会因为通货膨胀和货币贬值而减低。

### 物物交换

在有货币之前，人类使用物物交换，一袋米换一只羊。
物物交换的优点：安全（实物无法被伪造），模型简单（点对点交换，不依赖中间人或机构）。
物物交换的缺点：效率低下，且衡量标准不统一，只适合小范围内交换物品使用。

### 一般等价物

[一般等价物](https://baike.baidu.com/item/%E4%B8%80%E8%88%AC%E7%AD%89%E4%BB%B7%E7%89%A9)是为了解决物物交换标准不统一的问题，是货币的基础。
一般选取被公认的物品作为一般等价物，如选取一袋米作为一般等价物。所有的物品都等价的换算为一袋米，一只羊等于一袋米，一头牛等于5袋米。但是使用实物作为一般等价物还是不解决交换效率低下问题，因此出现了更简便的一般等价物，这个就是货币的雏形。

### 贵金属货币

贵金属货币是以贵金属（金、银）作为一般等价物。贵金属以其稀有特性，天然可以防止伪造（伪造成本很高）。金属货币的发行依赖权威机构，但是是弱依赖，假如你发现了一个金矿或银矿，那么理论上你可以发行很多货币。
贵金属货币的优点：滥发的可能性很低不容易出现通货膨胀，天然防伪。
贵金属货币的缺点：流通费用较高（开采、损耗），不易携带（带1000两黄金？）。

### 纸币

为了解决贵金属货币高流通费用、不易携带的问题，出现了纸币。纸币本身没有价值（说白了就是一张纸），因此初期的纸币都与贵金属货币挂钩，发行纸币的机构都声称纸币与黄金挂钩，可以随时互换。著名的[布雷顿森林体系](https://baike.baidu.com/item/%E5%B8%83%E9%9B%B7%E9%A1%BF%E6%A3%AE%E6%9E%97%E4%BD%93%E7%B3%BB) 就是将美元与黄金设置兑换比例，使得美元成为国际货币。
纸币有了黄金作为保证之后，就可以替代黄金作为流通货币，纸币的流通费用较低、便携性较好。

到目前为止，我们所谈到的都是实体货币，花出去了就没有了，再造需要高额成本。纸币虽然只是纸，但是由于与黄金固定比例兑换，因此发行纸币越多，需要储备的黄金越多，理论上是不能滥发的。

### 符号货币

在1970s布雷顿森林体系瓦解之后，美元与黄金脱钩，那么问题就来了：没有了黄金作为保证的美元，不就是纸了么？你可以这么认为，所以我们把脱离了黄金的美元称为[符号货币](https://baike.baidu.com/item/%E7%AC%A6%E5%8F%B7%E8%B4%A7%E5%B8%81)。

当然，美国人不是这么想，通过布雷顿森林体系的运作，美元已经称为了全球公认的世界货币，所有其他国家的货币都以美元作为标准兑换。美元脱离黄金之后，美国人依靠其七大舰队，并将石油交易与美元绑定，石油交易必须用美元，强行维持美元的世界货币地位。同时，各个国家发行货币以美元为保证，所以各个国家就得赚美元，否则印出来的钞票没人认。

美元脱离了黄金之后，那岂不是开起印钞机就可以增加购买力了？理论上是这样，不过这是最下下策，且美元印多了之后会出现贬值，购买力会随之下降。实际上美国人有更高明的方法，就是通过控制市场上流通的美元数量，通过不断的“剪羊毛”方式，来剥削其他国家的资产。

美元脱离了黄金之后，通胀就会很容易出现，不小心多印了一些美元，就会出现通货膨胀。这也是比特币要解决的问题之一。

### 数字货币

相对于当前的无现金支付（支付宝、微信支付等），纸币可以被认为是半数字货币：银行账号里面记录的是数字（虚拟的），从银行账号里面取出的现金是实物，花出去就没有了。如果你不信任银行账号里面的数字，可以将其全部兑换为现金。
而在数字货币时代，无现金支付，意味着你拥有的只是权威机构承认的数字而已。假设有一天权威机构就是耍流氓把你的数字改了，你也没有很多办法能讨回。
数字货币时代的支付也就转换为存储在银行的转账记录而已。

## 当前货币系统的弊端

### 滥发导致通货膨胀

依赖中央银行发行货币，而中央银行本身是受国家或财团控制的，因此无法避免滥发的问题。最近提到很多次的人民币M2总值不断增加，导致货币被贬值，个人资产（银行存款）被稀释，就是因为滥发货币导致的。

### 高额的流通的成本（cost）

跨国或跨不同银行之间的转行结汇依赖权威的结算机构（银行），机构之间结算需要成本（设备、场地、人工费用等）。目前各个银行之间或跨国转账的手续费用都不低。

## 比特币诞生

为了解决通货膨胀以及流通成本问题，以及对权威机构的深深的不信任，一个号称为[中本聪](https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%9C%AC%E8%81%AA)的人（至今为止大众也不知道中本聪的真是身份）发表了一篇论文：《比特币：一种点对点式的电子现金系统》，宣告比特币的诞生。

## 比特币系统运行原理

比特币系统是一串按时间顺序串起来的不可逆的账单，每个账单记录了发送账号、接受账号、金额、上一个账单唯一标识，本账单唯一标识等属性：

```
上一次账单号: 00000000000xxxxxx

交易清单:
  ...

随机数: ?

本账单号: ?
```

账单一旦生成了就不可修改，通过计算账单链，可以得出账号上有多少币。

比特币系统中任意两个实体之间可以发起转账，不依赖中间权威机构。那么币从哪里来？谁能承认这些转账？

### 比特币发行

比特币通过“矿工”“挖矿”的方式发行。
**“矿工”** 是比特币网络中的一个节点（比特币是一个点对点网络，没有中心节点），**“挖矿”**是在网络节点上运行比特币系统设计好的程序，主要做的事情是：

- 计算新账单号
- 证明账单的有效性

在初始时刻，由系统给少数账号分配了一些比特币。这些人使用比特币开始交易，每次交易的清单会在比特币网络上广播，矿工接收到交易消息之后，检测交易的有效性（账号余额是否足够、上一次账单号是否存在等），并开始计算交易清单对应的账单号，账单号是交易清单的Hash值，但是要求Hash值前面10位是全0，才是一个有效的账单号。因此就需要在交易清单基础上加一个随机数字，通过不断Hash的方式，碰撞出一个符合要求的账单号。

当某个矿工计算出有效账单后，将随机数填到账单上，并在网络中广播这个账单号，发送给其他矿工确认。其他矿工收到账单确认消息后，会优先处理账单确认工作：确认账单号是否正确，上一次账单号是否存在等。确认通过后，这个账单就会被加到账单链中，作为下一次交易账单的父账单号。

为了奖励矿工挖矿，每次交易清单中会包含一个系统交易：给第一个计算出账单号的矿工50个比特币。因此每次有效的交易会发行50个比特币。
比特币发行规则约定奖励的比特币数量随着时间递减，按照比特币算法，总共的比特币数量趋于2100万个，以后就不会再有新的比特币了。以此控制通货膨胀。

如果比特币发行完了之后，那么矿工挖矿的动力是什么呢？嗯，这时候就改为交易手续费作为矿工的奖励（手续费的收费方式还没有最终确定）。

## 比特币常见疑问（FAQ）

### 多花问题

比特币网络中任意两个节点可以发起交易，那么我是不是可以将一份币转给多个人，实现多花？
答案是可以。不过前提是你掌控了整个比特币51%的算力，换一个说法，就是比特币系统中51%的矿工都是你的才行。

在解释这个之前，我们先来了解账单链分叉问题。
假设一次交易清单，两个矿工同时算出了账单号，那么基于上次的账单号的节点下面就会出现两个账单，这是挖矿算法会随机选择一个分支继续计算其他交易清单，随着时间的推移，会有一个账单链变得更长，挖矿算法总是选择网络中最长的账单链工作，因此其他的账单链就会逐步被废弃。

现在来说多花问题，假设一次交易T1，上次账单号为A，交易发起后被确认了，账单号为B1。这时候你再基于账单号A发次一次交易T2，正常情况本次交易的上一次账单号应当为B1。假如你有足够多的矿工，那么你可能计算出了一个T1的账单号为B2，然后基于B2继续计算，一段时间后B2的链条长度超过B1的链条，那么可以说你已经实现了双花。按照方式你可以无限次花同一个币。

从数学上计算，如果你掌握了整个比特币网络51%的算力，那么你付出的费用（cpu、电力、时间）比你得到的比特币的价值要高的多，所以多花对你来说是没有收益的。

### 比特币为什么可以成为货币

稀有、不容易滥发的一般等价物都可以成为货币，比特币也有这些属性，因此可以成为货币。

### 为什么我挖矿挖不到比特币

因为你算力不够。

## 比特币应用场景

### 跨国支付与结汇

### 小额支付

### 智能合约

## 参考

- [WiKi: 货币](https://zh.wikipedia.org/wiki/%E8%B2%A8%E5%B9%A3#.E8.B2.A8.E5.B9.A3.E7.9A.84.E5.8A.9F.E8.83.BD)
- [知乎: 比特币是什么](https://www.zhihu.com/question/22076666)
- [WiKi: 比特币](https://zh.wikipedia.org/wiki/比特币)
- [官网: Getting Started with Bitcoin](https://www.bitcoin.com/getting-started)
- [官网: 比特币白皮书](https://www.bitcoin.com/bitcoin.pdf)
- [中文官网: 比特币常见问题](https://bitcoin.org/zh_TW/faq)
- [一个故事告诉你比特币的原理及运作机制](http://blog.codinglabs.org/articles/bitcoin-mechanism-make-easy.html)

同步发表于[运维派](http://www.yunweipai.com/archives/22646.html)
